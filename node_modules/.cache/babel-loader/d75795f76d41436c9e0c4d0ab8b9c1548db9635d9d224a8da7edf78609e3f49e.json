{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dmitriy\\\\Desktop\\\\\\u0418\\u043D\\u0441\\u0442\\u0438\\u0442\\u0443\\u0442\\\\Films\\\\films\\\\demo\\\\src\\\\layout\\\\Main.jsx\";\nimport React from 'react';\nimport Movies from '../components/Movies';\nimport Search from '../components/Search';\nimport Movie from '../components/Movie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Main extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      show: 'index',\n      // index, search, movie\n      movies: [],\n      // массив найденных фильмов\n      movie: {},\n      // информация о фильме\n      loading: true // идет запрос к серверу?\n    };\n    // пользователь набрал поисковый запрос и нажал Enter\n    this.handleEnter = (search, type) => {\n      if (search.trim() === \"\") return;\n      this.setState({\n        loading: true,\n        show: 'search'\n      });\n      search = encodeURIComponent(search);\n      let url = `https://www.omdbapi.com/?apikey=b14985af&s=${search}`;\n      if (type !== 'all') {\n        url = url + `&type=${type}`;\n      }\n      fetch(url).then(response => response.json()).then(data => {\n        this.setState({\n          movies: data.Search ? data.Search : [],\n          loading: false\n        });\n      });\n    };\n    // пользователь кликнул ссылке по «Read more» для просмотра\n    // подробной информации по найденному фильму или сериалу\n    this.handleReadMore = id => {\n      this.setState({\n        loading: true,\n        show: 'movie'\n      });\n      fetch(`https://www.omdbapi.com/?apikey=b14985af&i=${id}&plot=full`).then(response => response.json()).then(data => {\n        this.setState({\n          movie: data.Title ? data : {},\n          loading: false\n        });\n      });\n    };\n  }\n  componentDidMount() {\n    fetch('https://www.omdbapi.com/?apikey=b14985af&s=matrix').then(response => response.json()).then(data => {\n      this.setState({\n        movies: data.Search ? data.Search : [],\n        loading: false\n      });\n    });\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(Search, {\n        enterHandler: this.handleEnter\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), this.state.loading ? /*#__PURE__*/_jsxDEV(\"span\", {\n        class: \"container loader\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 25\n      }, this) : this.state.show === 'movie' ? /*#__PURE__*/_jsxDEV(Movie, {\n        ...this.state.movie\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(Movies, {\n        movies: this.state.movies,\n        readMoreHandler: this.handleReadMore\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default Main;","map":{"version":3,"names":["React","Movies","Search","Movie","jsxDEV","_jsxDEV","Main","Component","constructor","args","state","show","movies","movie","loading","handleEnter","search","type","trim","setState","encodeURIComponent","url","fetch","then","response","json","data","handleReadMore","id","Title","componentDidMount","render","className","children","enterHandler","fileName","_jsxFileName","lineNumber","columnNumber","class","readMoreHandler"],"sources":["C:/Users/Dmitriy/Desktop/Институт/Films/films/demo/src/layout/Main.jsx"],"sourcesContent":["import React from 'react';\r\nimport Movies from '../components/Movies';\r\nimport Search from '../components/Search';\r\nimport Movie from '../components/Movie';\r\n\r\nclass Main extends React.Component {\r\n    state = {\r\n        show: 'index', // index, search, movie\r\n        movies: [], // массив найденных фильмов\r\n        movie: {}, // информация о фильме\r\n        loading: true, // идет запрос к серверу?\r\n    }\r\n\r\n    // пользователь набрал поисковый запрос и нажал Enter\r\n    handleEnter = (search, type) => {\r\n        if (search.trim() === \"\") return;\r\n        this.setState({\r\n            loading: true,\r\n            show: 'search'\r\n        });\r\n        search = encodeURIComponent(search);\r\n        let url = `https://www.omdbapi.com/?apikey=b14985af&s=${search}`;\r\n        if (type !== 'all') {\r\n            url = url + `&type=${type}`;\r\n        }\r\n        fetch(url)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                this.setState({\r\n                    movies: data.Search ? data.Search : [], \r\n                    loading: false\r\n                });\r\n            });\r\n    }\r\n\r\n    // пользователь кликнул ссылке по «Read more» для просмотра\r\n    // подробной информации по найденному фильму или сериалу\r\n    handleReadMore = (id) => {\r\n        this.setState({\r\n            loading: true,\r\n            show: 'movie'\r\n        });\r\n        fetch(`https://www.omdbapi.com/?apikey=b14985af&i=${id}&plot=full`)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                this.setState({\r\n                    movie: data.Title ? data : {},\r\n                    loading: false\r\n                });\r\n            });\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch('https://www.omdbapi.com/?apikey=b14985af&s=matrix')\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                this.setState({\r\n                    movies: data.Search ? data.Search : [],\r\n                    loading: false\r\n                });\r\n            });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <main className=\"container\">\r\n                <Search enterHandler={this.handleEnter} />\r\n                {\r\n                    this.state.loading ? (\r\n                        <span class=\"container loader\"></span>\r\n                    ) : this.state.show === 'movie' ? (\r\n                        <Movie {...this.state.movie} />\r\n                    ) : (\r\n                        <Movies\r\n                            movies={this.state.movies}\r\n                            readMoreHandler={this.handleReadMore}\r\n                        />\r\n                    )\r\n                }\r\n            </main>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Main;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}